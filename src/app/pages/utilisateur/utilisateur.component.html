<div class="pagetitle">
  <h1>Utilisateurs</h1>
  <nav>
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="index.html">Home</a></li>
      <li class="breadcrumb-item"><a href="/dashboard">Dashboard</a></li>
      <li class="breadcrumb-item active">Utilisateurs</li>
    </ol>
  </nav>
</div><!-- End Page Title -->

<section class="section dashboard" data-aos="fade-down">
  <div class="row">

    <!-- Top Selling -->
    <div class="col-12">
      <div class="card top-selling overflow-auto">
        <app-boutton-action
          (clickEvent)="nouvelUtilisateur()"
        ></app-boutton-action>
        <div class="alert alert-danger alert-dismissible fade show" role="alert" *ngIf="errorMsg">
          {{ errorMsg }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"
                  (click)="reload()"></button>
        </div>
        <div class="alert alert-success alert-dismissible fade show" role="alert" *ngIf="messageSucces">
          {{ messageSucces }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"
                  (click)="reload()"></button>
        </div>

        <div class="card-body pb-0">
          <h5 class="card-title">Listes des utilisateurs</h5>

          <app-detail-utilisateur
            *ngFor=" let user of pages.content let i =index "
            [utilisateur]="user"
            (suppressionResult)="handleSuppression($event)"
            [i]="i"
            [imgUrl]="user.photo ?  ( (environment.production) ? 'https://ws.gestostock.fr/file/image/'+this.user.photo :  'http://localhost:8082/file/image/'+this.user.photo ): './assets/image/user.png'"
          >
          </app-detail-utilisateur>
        </div>

      </div>
    </div><!-- End Top Selling -->
  </div>
  <div class="row mb-3">
    <div class=" col-md-12 text-center" data-aos="fade-up">
      <!--
      <div class="btn-group" role="group" aria-label="Basic example">
        <button type="button" class="btn btn-light" (click)="goToNextOrPreviousPage('backward','')" [ngClass]="0 == pageActuel  ? ' disabled' : ''">
          <i class="bi bi-chevron-double-left"></i>
        </button>
        <ng-container *ngFor=" let numePage  of [].constructor (pages.totalPages) ; let i = index">
        <button type="button" class="btn btn-light" (click)="goToPage('',i)" [ngClass]="i == pageActuel ? ' active' : ''">{{i+1}}</button>
        </ng-container>

        <button type="button" class="btn btn-light" (click)="goToNextOrPreviousPage('forward','')" [ngClass]="(pages.totalPages - 1) == pageActuel ? ' disabled' : ''">
          <i class="bi bi-chevron-double-right"></i>
        </button>

      </div>
-->
      <app-pagination
        [pages]="pages"
        [pageActuel]="pageActuel"
        [receivedData]="receivedData"
        (gotoEvent)="goToPage($event.name,$event.pageNumber)"

      >

      </app-pagination>
    </div>
  </div>
</section>






