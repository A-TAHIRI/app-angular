<div class="pagetitle">
  <h1>Categories</h1>
  <nav>
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="index.html">Home</a></li>
      <li class="breadcrumb-item"><a href="/dashboard">Dashboard</a></li>
      <li class="breadcrumb-item active">Categories</li>
    </ol>
  </nav>
</div><!-- End Page Title -->

<section class="section dashboard" data-aos="fade-down">
  <div class="row">

    <!-- Top Selling -->
    <div class="col-12">
      <div class="card top-selling overflow-auto">
        <app-boutton-action
          (clickEvent)="nouvelleCategory()"
        ></app-boutton-action>
        <div class="card-body pb-0">
          <h5 class="card-title">Listes des Categories</h5>

          <div class="col m-3">
            <div class="row col-md-12 alert alert-danger" *ngIf="errorsMsg.length>0">
              <span  class="text-center"> {{errorsMsg}}</span>
            </div>
            <div class="row col-md-12 custom-border "  *ngFor=" let cat of liste let i= index" >
              <table class="table table-borderless">
                <thead *ngIf="i==0">
                <tr data-aos="zoom-in">
                  <th style="width: 10%; text-align: center;" scope="col" >Aperçu</th>
                  <th style="width: 10%; text-align: center;" scope="col">Référence</th>
                  <th style="width: 10%; text-align: center;" scope="col">Designation</th>
                  <th style="width: 10%; text-align: center;" scope="col">Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr data-aos="zoom-in">
                  <td style="width: 10%;text-align: center;" ><img [src]=" cat.image ? imgUrl+cat.image : basImgUrl "  class="rounded-circle" width="50" height="50"   alt="categorie"></td>
                  <td style="width: 10%; text-align: center;" >{{cat.code }}</td>
                  <td style="width: 10%;text-align: center;" class="text-primary fw-bold">{{ cat.designation }}</td>
                  <td style="width: 10%;text-align: center;" >
                    <div class="action">
                      <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots-vertical"></i></a>
                      <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                        <li class="dropdown-header text-start">
                          <h6>Actions</h6>
                        </li>
                        <li><a class="dropdown-item" href="javascript:void(0)" (click)="modifierCategoie(cat.id )">
                          <i class="bi bi-pencil-square"></i>&nbsp;Modifier</a></li>
                        <li><a class="dropdown-item" href="javascript:void(0)" data-bs-toggle="modal"
                               data-bs-target="#modalDeleteCat" (click)="selectCatPourSupprimer(cat.id)">
                          <i class="bi bi-trash3"></i>Supprimer</a></li>
                        <li><a class="dropdown-item" href="javascript:void(0)"><i class="bi bi-ticket-detailed"></i>Détails</a></li>
                      </ul>
                    </div>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

      </div>
    </div><!-- End Top Selling -->
  </div>
  <div class="row mb-3">
    <div class=" col-md-12 text-center" data-aos="fade-up">
      <app-pagination></app-pagination>
    </div>
  </div>
</section>


    <!-- Modal -->
    <div class="modal fade" id="modalDeleteCat" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Confirmation</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            Etes vous-sur de vouloir supprimer cette categorie?
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"  (click)="annulerSuppressionCat()"> <i class="fas fa-ban"></i> Annuler</button>
            <button type="button" class="btn btn-danger" data-bs-dismiss="modal"  (click)="confirmerEtSupprimerCat()"> <i class="fas fa-trash-alt"></i> Supprimer</button>
          </div>
        </div>
      </div>
    </div>



