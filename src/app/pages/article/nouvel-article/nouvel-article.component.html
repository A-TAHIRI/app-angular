<div class="pagetitle">
  <h1>Articles</h1>
  <nav>
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="index.html">Home</a></li>
      <li class="breadcrumb-item">Dashboard</li>
      <li class="breadcrumb-item active">nouvelarticle</li>
    </ol>
  </nav>
</div><!-- End Page Title -->
<section class="section dashboard">
  <div class="row">

    <!-- Top Selling -->
    <div class="col-12">
      <div class="card top-selling overflow-auto">
        <div class="card-body pb-0">
          <h5 class="card-title">Information de l'article</h5>

          <div class="col mb-3">
            <div class="col-md-12">
              <div class="col-md-12">

                <div class="alert alert-danger" *ngIf="errorsMsg.length > 0">
                  <div *ngFor="let msg of errorsMsg">
                    <span >{{msg}}</span>
                  </div>
                </div>
                <form id="formArticle">
                  <div class="row mb-3">
                    <div class="col">
                      <input type="text" class="form-control" name="codeArticle" placeholder="Code article"  [(ngModel)]="article.codeArticle">
                    </div>
                    <div class="col">
                      <input type="text" class="form-control" name="designation" placeholder="Designation" [(ngModel)]="article.designation">
                    </div>
                  </div>
                  <div class="row mb-3">
                    <div class="col">
                      <input type="number" class="form-control" name="prixUnitaireHt" placeholder="Prix unitaire HT"
                             [(ngModel)]="article.prixUnitaireHt" (input)="calculetTTC()" >
                    </div>
                    <div class="col">
                      <input type="number" class="form-control" name="tauxtva" placeholder="Taux TVA"
                             [(ngModel)]="article.tauxTva" (input)="calculetTTC()" >
                    </div>
                  </div>
                  <div class="row mb-3">
                    <div class="col">
                      <input type="number" class="form-control" name="prixUnitaireTtc" placeholder="Prix unitaire TTC" [(ngModel)]="article.prixUnitaireTtc" >
                    </div>
                    <div class="col">
                      <select class="form-control" name="cat" [(ngModel)]="categorie.id"  >
                        <option [value]="null" selected >Selectionner une categorie</option>
                        <option *ngFor="let cat of liste" [value]="cat.id">{{ cat.code }} - {{ cat.designation }}</option>

                      </select>
                    </div>
                  </div>
                  <div class="row mb-3">
                    <div class="col">
                      <input type="file" class="file-upload" (change)="onFileSelected($event)"  >
                      <input type="hidden" name="image"  [(ngModel)]="article.image" [value]="pathFile"  >
                    </div>
                    <div class="col">
                      <img class="custom-border" [src]="playImage" style="max-width: 100px"  *ngIf="playImage">
                    </div>
                  </div>
                </form>
              </div>
            </div>
            <div class="col-md-12 text-right">
              <button class="btn btn-danger mr-3" (click)="cancel()">
                <i class="bi bi-x-octagon"></i>
                Annuler
              </button>
              <button class="btn btn-primary m-lg-2" (click)="save()" >
                <i class="bi bi-floppy"></i>
                Enregitrer
              </button>
            </div>

          </div>
        </div>
      </div>
    </div><!-- End Top Selling -->
  </div>

</section>

